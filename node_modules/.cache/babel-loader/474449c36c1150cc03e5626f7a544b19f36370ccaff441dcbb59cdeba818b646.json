{"ast":null,"code":"import _slicedToArray from\"C:/Users/Chiara/Desktop/SOFTWAVE/Esercizi/Lezione 4 -Esercizi (useEffect)/pomodoro-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import PauseButton from\"./PauseButton\";import PlayButton from\"./PlayButton\";import ResetButton from\"./ResetButton\";import Animations from\"./Animations\";import{useState,useEffect}from\"react\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var Timer=function Timer(){var _useState=useState(25),_useState2=_slicedToArray(_useState,2),timerLength=_useState2[0],setTimerLength=_useState2[1];var _useState3=useState(5),_useState4=_slicedToArray(_useState3,2),workBreak=_useState4[0],setWorkBreak=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),isPaused=_useState6[0],setIsPaused=_useState6[1];var _useState7=useState(timerLength*60),_useState8=_slicedToArray(_useState7,2),secondsLeft=_useState8[0],setSecondsLeft=_useState8[1];var _useState9=useState(\"work\"),_useState10=_slicedToArray(_useState9,2),mode=_useState10[0],setMode=_useState10[1];useEffect(function(){function switchMode(){var nextMode=mode===\"work\"?\"break\":\"work\";var nextSeconds=nextMode===\"work\"?timerLength*60:workBreak*60;setMode(nextMode);setSecondsLeft(nextSeconds);}setSecondsLeft(secondsLeft);if(!isPaused){var interval=setInterval(function(){setSecondsLeft(function(secondsLeft){return secondsLeft-1;});},1000);if(secondsLeft===0){switchMode();clearInterval(interval);setIsPaused(false);}return function(){return clearInterval(interval);};}},[mode,isPaused,secondsLeft,workBreak,timerLength]);var minutes=Math.floor(secondsLeft/60);var seconds=secondsLeft%60;if(seconds<10)seconds=\"0\"+seconds;var handlePause=function handlePause(){setIsPaused(!isPaused);};var handleReset=function handleReset(){setSecondsLeft(timerLength*60);setMode(\"work\");setIsPaused(true);};var handleTimerChange=function handleTimerChange(e){setTimerLength(e.target.value);setSecondsLeft(e.target.value*60);};var handleBreakChange=function handleBreakChange(e){setWorkBreak(e.target.value);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"Work minutes: \",timerLength,\":00\"]}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"pomodoro\",id:\"pomodoro\",min:\"5\",max:\"90\",value:timerLength,onChange:handleTimerChange}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Break minutes: \",workBreak,\":00\"]}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"workBreak\",id:\"workBreak\",min:\"1\",max:\"30\",value:workBreak,onChange:handleBreakChange})]}),/*#__PURE__*/_jsx(\"div\",{children:mode===\"work\"?/*#__PURE__*/_jsx(\"h2\",{className:\"text\",children:\"Working time!\"}):/*#__PURE__*/_jsx(\"h2\",{className:\"text\",children:\"You're on Break!\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"timer\",children:minutes+\":\"+seconds}),/*#__PURE__*/_jsxs(\"div\",{style:{margin:\"20px\"},children:[isPaused?/*#__PURE__*/_jsx(PlayButton,{onClick:handlePause}):/*#__PURE__*/_jsx(PauseButton,{onClick:handlePause}),/*#__PURE__*/_jsx(ResetButton,{onClick:handleReset}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:\"20px\"}})]}),/*#__PURE__*/_jsx(Animations,{})]});};export default Timer;","map":{"version":3,"names":["React","PauseButton","PlayButton","ResetButton","Animations","useState","useEffect","Timer","timerLength","setTimerLength","workBreak","setWorkBreak","isPaused","setIsPaused","secondsLeft","setSecondsLeft","mode","setMode","switchMode","nextMode","nextSeconds","interval","setInterval","clearInterval","minutes","Math","floor","seconds","handlePause","handleReset","handleTimerChange","e","target","value","handleBreakChange","margin","marginTop"],"sources":["C:/Users/Chiara/Desktop/SOFTWAVE/Esercizi/Lezione 4 -Esercizi (useEffect)/pomodoro-app/src/components/Timer.jsx"],"sourcesContent":["import React from \"react\";\r\nimport PauseButton from \"./PauseButton\";\r\nimport PlayButton from \"./PlayButton\";\r\nimport ResetButton from \"./ResetButton\";\r\nimport Animations from \"./Animations\";\r\nimport { useState, useEffect } from \"react\";\r\n\r\nconst Timer = () => {\r\n  const [timerLength, setTimerLength] = useState(25);\r\n  const [workBreak, setWorkBreak] = useState(5);\r\n  const [isPaused, setIsPaused] = useState(true);\r\n  const [secondsLeft, setSecondsLeft] = useState(timerLength * 60);\r\n  const [mode, setMode] = useState(\"work\");\r\n\r\n  useEffect(() => {\r\n    function switchMode() {\r\n      const nextMode = mode === \"work\" ? \"break\" : \"work\";\r\n      const nextSeconds =\r\n        nextMode === \"work\" ? timerLength * 60 : workBreak * 60;\r\n\r\n      setMode(nextMode);\r\n      setSecondsLeft(nextSeconds);\r\n    }\r\n    setSecondsLeft(secondsLeft);\r\n\r\n    if (!isPaused) {\r\n      const interval = setInterval(() => {\r\n        setSecondsLeft((secondsLeft) => secondsLeft - 1);\r\n      }, 1000);\r\n\r\n      if (secondsLeft === 0) {\r\n        switchMode();\r\n        clearInterval(interval);\r\n        setIsPaused(false);\r\n      }\r\n\r\n      return () => clearInterval(interval);\r\n    }\r\n  }, [mode, isPaused, secondsLeft, workBreak, timerLength]);\r\n\r\n  const minutes = Math.floor(secondsLeft / 60);\r\n  let seconds = secondsLeft % 60;\r\n  if (seconds < 10) seconds = \"0\" + seconds;\r\n\r\n  const handlePause = () => {\r\n    setIsPaused(!isPaused);\r\n  };\r\n\r\n  const handleReset = () => {\r\n    setSecondsLeft(timerLength * 60);\r\n    setMode(\"work\");\r\n    setIsPaused(true);\r\n  };\r\n\r\n  const handleTimerChange = (e) => {\r\n    setTimerLength(e.target.value);\r\n    setSecondsLeft(e.target.value * 60);\r\n  };\r\n\r\n  const handleBreakChange = (e) => {\r\n    setWorkBreak(e.target.value);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"form\">\r\n        <label>Work minutes: {timerLength}:00</label>\r\n        <input\r\n          type=\"number\"\r\n          name=\"pomodoro\"\r\n          id=\"pomodoro\"\r\n          min=\"5\"\r\n          max=\"90\"\r\n          value={timerLength}\r\n          onChange={handleTimerChange}\r\n        ></input>\r\n        <label>Break minutes: {workBreak}:00</label>\r\n        <input\r\n          type=\"number\"\r\n          name=\"workBreak\"\r\n          id=\"workBreak\"\r\n          min=\"1\"\r\n          max=\"30\"\r\n          value={workBreak}\r\n          onChange={handleBreakChange}\r\n        ></input>\r\n      </div>\r\n\r\n      <div>\r\n        {mode === \"work\" ? (\r\n          <h2 className=\"text\">Working time!</h2>\r\n        ) : (\r\n          <h2 className=\"text\">You're on Break!</h2>\r\n        )}\r\n      </div>\r\n      <div className=\"timer\">{minutes + \":\" + seconds}</div>\r\n      <div style={{ margin: \"20px\" }}>\r\n        {isPaused ? (\r\n          <PlayButton onClick={handlePause} />\r\n        ) : (\r\n          <PauseButton onClick={handlePause} />\r\n        )}\r\n        <ResetButton onClick={handleReset} />\r\n\r\n        <div style={{ marginTop: \"20px\" }}></div>\r\n      </div>\r\n      <Animations />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Timer;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}